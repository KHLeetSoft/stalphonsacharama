<%- include('../partials/header') %>

<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-lg-10">
      <!-- Breadcrumb -->
      <!-- <nav aria-label="breadcrumb" class="mb-4">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="/">Home</a></li>
          <li class="breadcrumb-item active" aria-current="page">Principal's Message</li>
        </ol>
      </nav> -->

      <!-- Page Header -->
      <div class="text-center mb-5">
        <h1 class="display-4 fw-bold text-primary mb-3">Leadership Messages</h1>
        <div class="divider mx-auto" style="width: 150px; height: 4px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"></div>
        <p class="lead text-muted mt-3">Messages from our esteemed leadership team</p>
      </div>

      <!-- Principal Message Section -->
      <% if (principal && principal.message) { %>
      <div class="card shadow-lg mb-5">
        <div class="card-body p-5">
          <div class="row">
            <!-- Principal Image -->
            <div class="col-lg-4 text-center mb-4 mb-lg-0">
              <% if (principal && principal.imageUrl) { %>
                <img 
                  src="<%= principal.imageUrl %>" 
                  alt="<%= principal.name %>" 
                  class="img-fluid rounded-circle shadow"
                  style="width: 250px; height: 250px; object-fit: cover;"
                />
              <% } else { %>
                <div class="bg-light rounded-circle d-inline-flex align-items-center justify-content-center shadow"
                     style="width: 250px; height: 250px;">
                  <i class="fas fa-user-tie fa-6x text-muted"></i>
                </div>
              <% } %>
              
              <% if (principal && principal.name) { %>
                <h4 class="mt-3 mb-1"><%= principal.name %></h4>
                <% if (principal.title) { %>
                  <p class="text-muted mb-0"><%= principal.title %></p>
                <% } %>
              <% } %>
            </div>

            <!-- Principal Message -->
            <div class="col-lg-8">
              <div class="text-center mb-4">
                <h2 class="display-6 fw-bold text-primary mb-3">Principal's Message</h2>
                <div class="divider mx-auto" style="width: 100px; height: 3px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"></div>
              </div>

              <div class="message-content">
                <%- principal.message.replace(/\n/g, '<br>') %>
              </div>
            </div>
          </div>
        </div>
      </div>
      <% } %>

      <!-- Other Leadership Messages -->
      <% if (testimonials && testimonials.length > 0) { %>
        <% testimonials.forEach((testimonial, index) => { %>
        <div class="card shadow-lg mb-5">
          <div class="card-body p-5">
            <div class="row">
              <!-- Person Image -->
              <div class="col-lg-4 text-center mb-4 mb-lg-0">
                <% if (testimonial.image) { %>
                  <img 
                    src="<%= testimonial.image %>" 
                    alt="<%= testimonial.personName %>" 
                    class="img-fluid rounded-circle shadow"
                    style="width: 250px; height: 250px; object-fit: cover;"
                  />
                <% } else { %>
                  <div class="bg-light rounded-circle d-inline-flex align-items-center justify-content-center shadow"
                       style="width: 250px; height: 250px;">
                    <i class="fas fa-user-tie fa-6x text-muted"></i>
                  </div>
                <% } %>
                
                <h4 class="mt-3 mb-1"><%= testimonial.personName %></h4>
                <p class="text-muted mb-0"><%= testimonial.designation %></p>
              </div>

              <!-- Message Content -->
              <div class="col-lg-8">
                <div class="text-center mb-4">
                  <h2 class="display-6 fw-bold text-primary mb-3"><%= testimonial.designation %>'s Message</h2>
                  <div class="divider mx-auto" style="width: 100px; height: 3px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"></div>
                </div>

                <div class="message-content">
                  <% let messageWords = testimonial.message.split(' ');
                  messageWords = messageWords.map(word => { 
                    if (testimonial.highlightedWords && testimonial.highlightedWords.includes(word)) { 
                      return `<strong class="text-primary">${word}</strong>`; 
                    } 
                    return word; 
                  }); %>
                  <%- messageWords.join(' ') %>
                </div>
              </div>
            </div>
          </div>
        </div>
        <% }); %>
      <% } %>
    </div>
  </div>
</div>

<style>
.message-content {
  font-size: 1.1rem;
  line-height: 1.8;
  color: #333;
  text-align: justify;
}

.message-content p {
  margin-bottom: 1.5rem;
}

.contact-item {
  padding: 1rem;
  transition: transform 0.3s ease;
}

.contact-item:hover {
  transform: translateY(-5px);
}

.divider {
  border-radius: 2px;
}

.card {
  border-radius: 15px;
  overflow: hidden;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(0,0,0,0.1) !important;
}

.feature-icon {
  font-size: 3rem;
  margin-bottom: 1rem;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

@media (max-width: 768px) {
  .message-content {
    font-size: 1rem;
    text-align: left;
  }
  
  .contact-item {
    margin-bottom: 1rem;
  }
}
</style>

<%- include('../partials/footer') %> 