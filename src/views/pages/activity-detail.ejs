<%- include('../partials/header') %>

<div class="container mt-5">
  <div class="row">
    <div class="col-12">
      <h1 class="mb-4"><%= activity?.title %></h1>
    </div>
  </div>
  <div class="row">
    <% if (activity?.image) { %>
    <div class="col-md-5">
      <div class="image-container" style="max-height: 400px; overflow: hidden;">
        <img
          src="<%= activity?.image %>"
          class="img-fluid rounded shadow"
          alt="<%= activity?.title %>"
          style="width: 100%; height: 100%; object-fit: cover;"
        />
      </div>
    </div>
    <% } %>
    <div class="col-md-<%= activity?.image ? '7' : '12' %>">
      <div class="content">
        <%- activity?.description %>
        
        <% if (activity?.category) { %>
          <div class="mt-4">
            <h4>Category:</h4>
            <p><%= activity?.category %></p>
          </div>
        <% } %>

        <% if (activity?.schedule) { %>
          <div class="mt-4">
            <h4>Schedule:</h4>
            <p><%= activity?.schedule %></p>
          </div>
        <% } %>

        <% if (activity?.instructor) { %>
          <div class="mt-4">
            <h4>Instructor:</h4>
            <p><%= activity?.instructor %></p>
          </div>
        <% } %>

        <% if (activity?.maxParticipants) { %>
          <div class="mt-4">
            <h4>Maximum Participants:</h4>
            <p><%= activity?.maxParticipants %></p>
          </div>
        <% } %>

        <% if (activity?.activities && activity?.activities.length > 0) { %>
          <div class="mt-4">
            <h4>Sub-Activities:</h4>
            <div class="list-group">
              <% activity?.activities.forEach(function(subactivity?) { %>
                <div class="list-group-item">
                  <h5 class="mb-2"><%= subactivity?.title %></h5>
                  <p class="mb-1"><%- subactivity?.description %></p>
                  <small class="text-muted">
                    Schedule: <%= subactivity?.schedule %> | 
                    Location: <%= subactivity?.location %> | 
                    Participants: <%= subactivity?.participants %>
                  </small>
                </div>
              <% }); %>
            </div>
          </div>
        <% } %>
      </div>
    </div>
  </div>
</div>

<%- include('../partials/footer') %>
